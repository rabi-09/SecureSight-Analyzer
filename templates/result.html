<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Analysis Result</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
  <div class="container mt-5" id="result-container">
    <h2 class="text-center mb-4">ðŸ“Š Analysis Summary</h2>
    <div id="result"></div>
  </div>

  <script>
    const resultData = JSON.parse(localStorage.getItem("final_result"));
    const div = document.getElementById("result");
    if (!resultData) {
      div.innerHTML = "<p>No data found. Please analyze again.</p>";
    } else {
      div.innerHTML = `
        <h4>${resultData.person}</h4>
        <p><b>Overall Sentiment:</b> ${resultData.overall_sentiment}</p>
        <p><b>Fraud Probability:</b> ${resultData.fraud_probability}</p>
        <p><b>Paragraphs Analyzed:</b> ${resultData.paragraphs_analyzed}</p>
        <hr>
        ${resultData.articles.map(a => `
          <div class="card mb-3 p-3">
            <h5>${a.heading}</h5>
            <a href="${a.link}" target="_blank">${a.link}</a>
            ${a.paragraphs.map(p => `
              <p><b>Summary:</b> ${p.summary}</p>
              <small>Polarity: ${p.polarity}, Emotion: ${p.emotion}, Tone: ${p.tone_strength}, Fraud: ${p.fraud_signal}</small>
            `).join('')}
          </div>
        `).join('')}
      `;
    }
  </script>
</body>
</html>
